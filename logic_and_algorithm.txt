================================================================================
CLASS TIMER PRO: LOGIC & ALGORITHM DOCUMENTATION
================================================================================

1. OVERALL APP LOGIC
====================
Class Timer Pro is designed as an "Intelligent Offline-First Academic Assistant." 
The core logic revolves around transforming static, often heterogeneous academic 
schedules (PDFs, Images, Excel) into a dynamic, structured personal calendar 
with automated conflict management and focus triggers.

The system follows a modular architecture:
- Data Layer: Local storage using Hive for offline-first capability.
- Engine Layer: Specialized services for parsing, conflict detection, and notifications.
- UI Layer: Flutter-based interface for interaction and schedule visualization.

2. CORE ALGORITHMS
==================

A. UNIVERSAL IMPORT ENGINE (OCR & PARSING)
------------------------------------------
The app automates schedule entry through two primary methods:

i. OCR (Optical Character Recognition) Parsing:
   - Tool: Google ML Kit Text Recognition.
   - Algorithm: 
     1. Image Pre-processing: User selects a screenshot or photo of a timetable.
     2. Text Extraction: ML Kit identifies text blocks and their coordinates.
     3. Pattern Reconstruction: 
        - Regex-based Day Detection: Identifies strings like "Monday", "Tuesday".
        - Regex-based Time Detection: Matches HH:mm - HH:mm patterns.
        - Heuristic Association: Associates text blocks (Course Names) found 
          immediately near detected time ranges with those specific events.

ii. Excel/CSV Mapping:
   - Tool: excel package for Dart.
   - Algorithm:
     1. Extraction: Iterates through spreadsheet rows and cells.
     2. Mapping: Detects headers (Day, Subject, Start Time, End Time) and maps 
        column data to Structured Event objects.

B. CONFLICT CRUSHER (SCHEDULING LOGIC)
--------------------------------------
To ensure a student's schedule is realistic, the system checks for overlaps 
every time a new event is added or modified.

- Logic: Two events (E1 and E2) conflict if:
  (E1.startTime < E2.endTime) AND (E1.endTime > E2.startTime)
  AND (E1.dayOfWeek == E2.dayOfWeek)

- Resolution: If a conflict is found, the system identifies the overlapping 
  events and triggers the "Rescheduling Engine" to suggest alternative 
  time blocks based on available gaps in the weekly schedule.

C. SMART BUFFER SCHEDULING (REMINDERS)
--------------------------------------
Instead of simple alarms, the app uses contextual logic to prompt action.

- Algorithm:
  1. Buffer Calculation: ReminderTime = Event.startTime - 10 minutes.
  2. Type Check: 
     - If Event.type == 'Class' -> Reminder: "Time to head to [Venue]."
     - If Event.type == 'Study' -> Reminder: "Prepare materials for [Subject]."
  3. Wrap-up logic: Generates a notification 5 minutes before an event ends 
     to facilitate smooth transitions.

3. USER PROCESS FLOW
====================

1. INITIALIZATION:
   The app initializes local storage (Hive) and checks for required permissions 
   (Notifications, Calendar, File System).

2. IMPORT / DATA ENTRY:
   The user provides a source (Photo, File, or Manual Entry). The "Import Engine" 
   runs its parsing algorithm to create a list of "Proposed Events".

3. PREVIEW & VERIFICATION:
   The user reviews the parsed data. The app runs the "Conflict Crusher" in the 
   background to highlight any immediate overlaps.

4. THE "ONE-TAP SYNC":
   Validated events are committed to Hive storage and, if enabled, pushed to 
   the device's native calendar (Google Calendar / Apple Calendar).

5. DAILY DASHBOARD LOOP:
   - The app monitors the current time against the stored schedule.
   - "Smart Buffer" triggers notifications at appropriate intervals.
   - Focus Mode: When a study session starts, the app offers to trigger 
     "Focus Mode" (integrating DND and social app blocking).

6. COMPLETION TRACKING:
   Users mark study sessions as completed, providing data for productivity 
   analytics (Study Streaks / Completion Rates).

================================================================================
Generated by Class Timer Pro Logic Analyst
================================================================================
